define(function(i,t,n){function r(i){"use strict";var t,n=[],r=i.toString().split("");for(t=0;t<r.length;t+=1){var e=r[t].charCodeAt(0),a=!1;if(e>55296){a=!0;var s=[e,r[t+=1].charCodeAt(0)],o=s[0]-55296<<10;o|=s[1]-56320,e=o+=65536}var u=[];if(e>127){for(var c=[128,192,224,240,248,252];;){if(!0===a&&0===e||!1===a&&e<c[0]){u.length>0&&(e|=c[u.length]),u.unshift(e);break}var h=e;h&=63,h|=c[0],u.unshift(h),e>>>=6}for(;u.length;)n.push(u.shift())}else n.push(e)}return n}function e(i,t){"use strict";return t=t||10,i.map(function(i){return parseInt(i,t)})}var a=function(){};a.prototype.constructor=a,a.prototype.xorBits=function(i,t){"use strict";return(parseInt(i,2)^parseInt(t,2)).toString(2)},a.prototype.getVersionInformationString=function(i){"use strict";for(var t=parseInt(i).toString(2);t.length<6;)t="0"+t;for(var n=t;n.length<18;)n+="0";for(n=n.replace(/^0+/,"");n.length>=13;){for(var r="1111100100101";r.length<n.length;)r+="0";n=(n=this.xorBits(r,n)).replace(/^0+/,"")}for(;n.length<12;)n="0"+n;return t+n},a.prototype.getFormatString=function(i,t){"use strict";i=i||"M",t=t||0;for(var n,r="",e=this.correctionLevels[i].toString(2);e.length<2;)e="0"+e;r+=e;for(var a=parseInt(t).toString(2);a.length<3;)a="0"+a;for(n=r+=a;n.length<15;)n+="0";for(n=n.replace(/^0+/,"");n.length>=11;){for(var s="10100110111";s.length<n.length;)s+="0";n=(n=this.xorBits(s,n)).replace(/^0+/,"")}for(;n.length<10;)n="0"+n;for(r+=n,r=this.xorBits(r,"101010000010010");r.length<15;)r="0"+r;return r},a.prototype.getBlockInfo=function(i,t){"use strict";var n=i+"-"+t;if(null===i||null===t)throw new m;return this.dataSizeInfo[n]},a.prototype.getCharacterCountIndicator=function(i,t,n){"use strict";var r=i.toString(2),a=this.wordSizes[t],s=0;for(var o in a)if(a.hasOwnProperty(o)){var u=e(o.split("-"));if(n>=u[0]&&n<=u[1]){s=a[o];break}}for(;r.length<s;)r="0"+r;return r},a.prototype.getCapacityRange=function(i,t){"use strict";var n=Object.keys(this.characterCapacities).pop();return{min:1,max:this.characterCapacities[n][t][i]}},a.prototype.correctionLevels={L:1,M:0,Q:3,H:2},a.prototype.remainderBits={1:0,2:7,3:7,4:7,5:7,6:7,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:3,15:3,16:3,17:3,18:3,19:3,20:3,21:4,22:4,23:4,24:4,25:4,26:4,27:4,28:3,29:3,30:3,31:3,32:3,33:3,34:3,35:0,36:0,37:0,38:0,39:0,40:0},a.prototype.dataSizeInfo={"1-L":[19,7,1,19,0,0],"1-M":[16,10,1,16,0,0],"1-Q":[13,13,1,13,0,0],"1-H":[9,17,1,9,0,0],"2-L":[34,10,1,34,0,0],"2-M":[28,16,1,28,0,0],"2-Q":[22,22,1,22,0,0],"2-H":[16,28,1,16,0,0],"3-L":[55,15,1,55,0,0],"3-M":[44,26,1,44,0,0],"3-Q":[34,18,2,17,0,0],"3-H":[26,22,2,13,0,0],"4-L":[80,20,1,80,0,0],"4-M":[64,18,2,32,0,0],"4-Q":[48,26,2,24,0,0],"4-H":[36,16,4,9,0,0],"5-L":[108,26,1,108,0,0],"5-M":[86,24,2,43,0,0],"5-Q":[62,18,2,15,2,16],"5-H":[46,22,2,11,2,12],"6-L":[136,18,2,68,0,0],"6-M":[108,16,4,27,0,0],"6-Q":[76,24,4,19,0,0],"6-H":[60,28,4,15,0,0],"7-L":[156,20,2,78,0,0],"7-M":[124,18,4,31,0,0],"7-Q":[88,18,2,14,4,15],"7-H":[66,26,4,13,1,14],"8-L":[194,24,2,97,0,0],"8-M":[154,22,2,38,2,39],"8-Q":[110,22,4,18,2,19],"8-H":[86,26,4,14,2,15],"9-L":[232,30,2,116,0,0],"9-M":[182,22,3,36,2,37],"9-Q":[132,20,4,16,4,17],"9-H":[100,24,4,12,4,13],"10-L":[274,18,2,68,2,69],"10-M":[216,26,4,43,1,44],"10-Q":[154,24,6,19,2,20],"10-H":[122,28,6,15,2,16],"11-L":[324,20,4,81,0,0],"11-M":[254,30,1,50,4,51],"11-Q":[180,28,4,22,4,23],"11-H":[140,24,3,12,8,13],"12-L":[370,24,2,92,2,93],"12-M":[290,22,6,36,2,37],"12-Q":[206,26,4,20,6,21],"12-H":[158,28,7,14,4,15],"13-L":[428,26,4,107,0,0],"13-M":[334,22,8,37,1,38],"13-Q":[244,24,8,20,4,21],"13-H":[180,22,12,11,4,12],"14-L":[461,30,3,115,1,116],"14-M":[365,24,4,40,5,41],"14-Q":[261,20,11,16,5,17],"14-H":[197,24,11,12,5,13],"15-L":[523,22,5,87,1,88],"15-M":[415,24,5,41,5,42],"15-Q":[295,30,5,24,7,25],"15-H":[223,24,11,12,7,13],"16-L":[589,24,5,98,1,99],"16-M":[453,28,7,45,3,46],"16-Q":[325,24,15,19,2,20],"16-H":[253,30,3,15,13,16],"17-L":[647,28,1,107,5,108],"17-M":[507,28,10,46,1,47],"17-Q":[367,28,1,22,15,23],"17-H":[283,28,2,14,17,15],"18-L":[721,30,5,120,1,121],"18-M":[563,26,9,43,4,44],"18-Q":[397,28,17,22,1,23],"18-H":[313,28,2,14,19,15],"19-L":[795,28,3,113,4,114],"19-M":[627,26,3,44,11,45],"19-Q":[445,26,17,21,4,22],"19-H":[341,26,9,13,16,14],"20-L":[861,28,3,107,5,108],"20-M":[669,26,3,41,13,42],"20-Q":[485,30,15,24,5,25],"20-H":[385,28,15,15,10,16],"21-L":[932,28,4,116,4,117],"21-M":[714,26,17,42,0,0],"21-Q":[512,28,17,22,6,23],"21-H":[406,30,19,16,6,17],"22-L":[1006,28,2,111,7,112],"22-M":[782,28,17,46,0,0],"22-Q":[568,30,7,24,16,25],"22-H":[442,24,34,13,0,0],"23-L":[1094,30,4,121,5,122],"23-M":[860,28,4,47,14,48],"23-Q":[614,30,11,24,14,25],"23-H":[464,30,16,15,14,16],"24-L":[1174,30,6,117,4,118],"24-M":[914,28,6,45,14,46],"24-Q":[664,30,11,24,16,25],"24-H":[514,30,30,16,2,17],"25-L":[1276,26,8,106,4,107],"25-M":[1e3,28,8,47,13,48],"25-Q":[718,30,7,24,22,25],"25-H":[538,30,22,15,13,16],"26-L":[1370,28,10,114,2,115],"26-M":[1062,28,19,46,4,47],"26-Q":[754,28,28,22,6,23],"26-H":[596,30,33,16,4,17],"27-L":[1468,30,8,122,4,123],"27-M":[1128,28,22,45,3,46],"27-Q":[808,30,8,23,26,24],"27-H":[628,30,12,15,28,16],"28-L":[1531,30,3,117,10,118],"28-M":[1193,28,3,45,23,46],"28-Q":[871,30,4,24,31,25],"28-H":[661,30,11,15,31,16],"29-L":[1631,30,7,116,7,117],"29-M":[1267,28,21,45,7,46],"29-Q":[911,30,1,23,37,24],"29-H":[701,30,19,15,26,16],"30-L":[1735,30,5,115,10,116],"30-M":[1373,28,19,47,10,48],"30-Q":[985,30,15,24,25,25],"30-H":[745,30,23,15,25,16],"31-L":[1843,30,13,115,3,116],"31-M":[1455,28,2,46,29,47],"31-Q":[1033,30,42,24,1,25],"31-H":[793,30,23,15,28,16],"32-L":[1955,30,17,115,0,0],"32-M":[1541,28,10,46,23,47],"32-Q":[1115,30,10,24,35,25],"32-H":[845,30,19,15,35,16],"33-L":[2071,30,17,115,1,116],"33-M":[1631,28,14,46,21,47],"33-Q":[1171,30,29,24,19,25],"33-H":[901,30,11,15,46,16],"34-L":[2191,30,13,115,6,116],"34-M":[1725,28,14,46,23,47],"34-Q":[1231,30,44,24,7,25],"34-H":[961,30,59,16,1,17],"35-L":[2306,30,12,121,7,122],"35-M":[1812,28,12,47,26,48],"35-Q":[1286,30,39,24,14,25],"35-H":[986,30,22,15,41,16],"36-L":[2434,30,6,121,14,122],"36-M":[1914,28,6,47,34,48],"36-Q":[1354,30,46,24,10,25],"36-H":[1054,30,2,15,64,16],"37-L":[2566,30,17,122,4,123],"37-M":[1992,28,29,46,14,47],"37-Q":[1426,30,49,24,10,25],"37-H":[1096,30,24,15,46,16],"38-L":[2702,30,4,122,18,123],"38-M":[2102,28,13,46,32,47],"38-Q":[1502,30,48,24,14,25],"38-H":[1142,30,42,15,32,16],"39-L":[2812,30,20,117,4,118],"39-M":[2216,28,40,47,7,48],"39-Q":[1582,30,43,24,22,25],"39-H":[1222,30,10,15,67,16],"40-L":[2956,30,19,118,6,119],"40-M":[2334,28,18,47,31,48],"40-Q":[1666,30,34,24,34,25],"40-H":[1276,30,20,15,61,16]},a.prototype.dataModeBitStrings={numeric:"0001",alphanumeric:"0010",binary:"0100",kanji:"1000"},a.prototype.wordSizes={numeric:{"1-9":10,"10-26":12,"27-40":14},alphanumeric:{"1-9":9,"10-26":11,"27-40":13},binary:{"1-9":8,"10-26":16,"27-40":16},kanji:{"1-9":8,"10-26":10,"27-40":12}},a.prototype.alignmentPatternLocations={1:[],2:[6,18],3:[6,22],4:[6,26],5:[6,30],6:[6,34],7:[6,22,38],8:[6,24,42],9:[6,26,46],10:[6,28,50],11:[6,30,54],12:[6,32,58],13:[6,34,62],14:[6,26,46,66],15:[6,26,48,70],16:[6,26,50,74],17:[6,30,54,78],18:[6,30,56,82],19:[6,30,58,86],20:[6,34,62,90],21:[6,28,50,72,94],22:[6,26,50,74,98],23:[6,30,54,78,102],24:[6,28,54,80,106],25:[6,32,58,84,110],26:[6,30,58,86,114],27:[6,34,62,90,118],28:[6,26,50,74,98,122],29:[6,30,54,78,102,126],30:[6,26,52,78,104,130],31:[6,30,56,82,108,134],32:[6,34,60,86,112,138],33:[6,30,58,86,114,142],34:[6,34,62,90,118,146],35:[6,30,54,78,102,126,150],36:[6,24,50,76,102,128,154],37:[6,28,54,80,106,132,158],38:[6,32,58,84,110,136,162],39:[6,26,54,82,110,138,166],40:[6,30,58,86,114,142,170]},a.prototype.characterCapacities={1:{L:{numeric:41,alphanumeric:25,binary:17,kanji:10},M:{numeric:34,alphanumeric:20,binary:14,kanji:8},Q:{numeric:27,alphanumeric:16,binary:11,kanji:7},H:{numeric:17,alphanumeric:10,binary:7,kanji:4}},2:{L:{numeric:77,alphanumeric:47,binary:32,kanji:20},M:{numeric:63,alphanumeric:38,binary:26,kanji:16},Q:{numeric:48,alphanumeric:29,binary:20,kanji:12},H:{numeric:34,alphanumeric:20,binary:14,kanji:8}},3:{L:{numeric:127,alphanumeric:77,binary:53,kanji:32},M:{numeric:101,alphanumeric:61,binary:42,kanji:26},Q:{numeric:77,alphanumeric:47,binary:32,kanji:20},H:{numeric:58,alphanumeric:35,binary:24,kanji:15}},4:{L:{numeric:187,alphanumeric:114,binary:78,kanji:48},M:{numeric:149,alphanumeric:90,binary:62,kanji:38},Q:{numeric:111,alphanumeric:67,binary:46,kanji:28},H:{numeric:82,alphanumeric:50,binary:34,kanji:21}},5:{L:{numeric:255,alphanumeric:154,binary:106,kanji:65},M:{numeric:202,alphanumeric:122,binary:84,kanji:52},Q:{numeric:144,alphanumeric:87,binary:60,kanji:37},H:{numeric:106,alphanumeric:64,binary:44,kanji:27}},6:{L:{numeric:322,alphanumeric:195,binary:134,kanji:82},M:{numeric:255,alphanumeric:154,binary:106,kanji:65},Q:{numeric:178,alphanumeric:108,binary:74,kanji:45},H:{numeric:139,alphanumeric:84,binary:58,kanji:36}},7:{L:{numeric:370,alphanumeric:224,binary:154,kanji:95},M:{numeric:293,alphanumeric:178,binary:122,kanji:75},Q:{numeric:207,alphanumeric:125,binary:86,kanji:53},H:{numeric:154,alphanumeric:93,binary:64,kanji:39}},8:{L:{numeric:461,alphanumeric:279,binary:192,kanji:118},M:{numeric:365,alphanumeric:221,binary:152,kanji:93},Q:{numeric:259,alphanumeric:157,binary:108,kanji:66},H:{numeric:202,alphanumeric:122,binary:84,kanji:52}},9:{L:{numeric:552,alphanumeric:335,binary:230,kanji:141},M:{numeric:432,alphanumeric:262,binary:180,kanji:111},Q:{numeric:312,alphanumeric:189,binary:130,kanji:80},H:{numeric:235,alphanumeric:143,binary:98,kanji:60}},10:{L:{numeric:652,alphanumeric:395,binary:271,kanji:167},M:{numeric:513,alphanumeric:311,binary:213,kanji:131},Q:{numeric:364,alphanumeric:221,binary:151,kanji:93},H:{numeric:288,alphanumeric:174,binary:119,kanji:74}},11:{L:{numeric:772,alphanumeric:468,binary:321,kanji:198},M:{numeric:604,alphanumeric:366,binary:251,kanji:155},Q:{numeric:427,alphanumeric:259,binary:177,kanji:109},H:{numeric:331,alphanumeric:200,binary:137,kanji:85}},12:{L:{numeric:883,alphanumeric:535,binary:367,kanji:226},M:{numeric:691,alphanumeric:419,binary:287,kanji:177},Q:{numeric:489,alphanumeric:296,binary:203,kanji:125},H:{numeric:374,alphanumeric:227,binary:155,kanji:96}},13:{L:{numeric:1022,alphanumeric:619,binary:425,kanji:262},M:{numeric:796,alphanumeric:483,binary:331,kanji:204},Q:{numeric:580,alphanumeric:352,binary:241,kanji:149},H:{numeric:427,alphanumeric:259,binary:177,kanji:109}},14:{L:{numeric:1101,alphanumeric:667,binary:458,kanji:282},M:{numeric:871,alphanumeric:528,binary:362,kanji:223},Q:{numeric:621,alphanumeric:376,binary:258,kanji:159},H:{numeric:468,alphanumeric:283,binary:194,kanji:120}},15:{L:{numeric:1250,alphanumeric:758,binary:520,kanji:320},M:{numeric:991,alphanumeric:600,binary:412,kanji:254},Q:{numeric:703,alphanumeric:426,binary:292,kanji:180},H:{numeric:530,alphanumeric:321,binary:220,kanji:136}},16:{L:{numeric:1408,alphanumeric:854,binary:586,kanji:361},M:{numeric:1082,alphanumeric:656,binary:450,kanji:277},Q:{numeric:775,alphanumeric:470,binary:322,kanji:198},H:{numeric:602,alphanumeric:365,binary:250,kanji:154}},17:{L:{numeric:1548,alphanumeric:938,binary:644,kanji:397},M:{numeric:1212,alphanumeric:734,binary:504,kanji:310},Q:{numeric:876,alphanumeric:531,binary:364,kanji:224},H:{numeric:674,alphanumeric:408,binary:280,kanji:173}},18:{L:{numeric:1725,alphanumeric:1046,binary:718,kanji:442},M:{numeric:1346,alphanumeric:816,binary:560,kanji:345},Q:{numeric:948,alphanumeric:574,binary:394,kanji:243},H:{numeric:746,alphanumeric:452,binary:310,kanji:191}},19:{L:{numeric:1903,alphanumeric:1153,binary:792,kanji:488},M:{numeric:1500,alphanumeric:909,binary:624,kanji:384},Q:{numeric:1063,alphanumeric:644,binary:442,kanji:272},H:{numeric:813,alphanumeric:493,binary:338,kanji:208}},20:{L:{numeric:2061,alphanumeric:1249,binary:858,kanji:528},M:{numeric:1600,alphanumeric:970,binary:666,kanji:410},Q:{numeric:1159,alphanumeric:702,binary:482,kanji:297},H:{numeric:919,alphanumeric:557,binary:382,kanji:235}},21:{L:{numeric:2232,alphanumeric:1352,binary:929,kanji:572},M:{numeric:1708,alphanumeric:1035,binary:711,kanji:438},Q:{numeric:1224,alphanumeric:742,binary:509,kanji:314},H:{numeric:969,alphanumeric:587,binary:403,kanji:248}},22:{L:{numeric:2409,alphanumeric:1460,binary:1003,kanji:618},M:{numeric:1872,alphanumeric:1134,binary:779,kanji:480},Q:{numeric:1358,alphanumeric:823,binary:565,kanji:348},H:{numeric:1056,alphanumeric:640,binary:439,kanji:270}},23:{L:{numeric:2620,alphanumeric:1588,binary:1091,kanji:672},M:{numeric:2059,alphanumeric:1248,binary:857,kanji:528},Q:{numeric:1468,alphanumeric:890,binary:611,kanji:376},H:{numeric:1108,alphanumeric:672,binary:461,kanji:284}},24:{L:{numeric:2812,alphanumeric:1704,binary:1171,kanji:721},M:{numeric:2188,alphanumeric:1326,binary:911,kanji:561},Q:{numeric:1588,alphanumeric:963,binary:661,kanji:407},H:{numeric:1228,alphanumeric:744,binary:511,kanji:315}},25:{L:{numeric:3057,alphanumeric:1853,binary:1273,kanji:784},M:{numeric:2395,alphanumeric:1451,binary:997,kanji:614},Q:{numeric:1718,alphanumeric:1041,binary:715,kanji:440},H:{numeric:1286,alphanumeric:779,binary:535,kanji:330}},26:{L:{numeric:3283,alphanumeric:1990,binary:1367,kanji:842},M:{numeric:2544,alphanumeric:1542,binary:1059,kanji:652},Q:{numeric:1804,alphanumeric:1094,binary:751,kanji:462},H:{numeric:1425,alphanumeric:864,binary:593,kanji:365}},27:{L:{numeric:3517,alphanumeric:2132,binary:1465,kanji:902},M:{numeric:2701,alphanumeric:1637,binary:1125,kanji:692},Q:{numeric:1933,alphanumeric:1172,binary:805,kanji:496},H:{numeric:1501,alphanumeric:910,binary:625,kanji:385}},28:{L:{numeric:3669,alphanumeric:2223,binary:1528,kanji:940},M:{numeric:2857,alphanumeric:1732,binary:1190,kanji:732},Q:{numeric:2085,alphanumeric:1263,binary:868,kanji:534},H:{numeric:1581,alphanumeric:958,binary:658,kanji:405}},29:{L:{numeric:3909,alphanumeric:2369,binary:1628,kanji:1002},M:{numeric:3035,alphanumeric:1839,binary:1264,kanji:778},Q:{numeric:2181,alphanumeric:1322,binary:908,kanji:559},H:{numeric:1677,alphanumeric:1016,binary:698,kanji:430}},30:{L:{numeric:4158,alphanumeric:2520,binary:1732,kanji:1066},M:{numeric:3289,alphanumeric:1994,binary:1370,kanji:843},Q:{numeric:2358,alphanumeric:1429,binary:982,kanji:604},H:{numeric:1782,alphanumeric:1080,binary:742,kanji:457}},31:{L:{numeric:4417,alphanumeric:2677,binary:1840,kanji:1132},M:{numeric:3486,alphanumeric:2113,binary:1452,kanji:894},Q:{numeric:2473,alphanumeric:1499,binary:1030,kanji:634},H:{numeric:1897,alphanumeric:1150,binary:790,kanji:486}},32:{L:{numeric:4686,alphanumeric:2840,binary:1952,kanji:1201},M:{numeric:3693,alphanumeric:2238,binary:1538,kanji:947},Q:{numeric:2670,alphanumeric:1618,binary:1112,kanji:684},H:{numeric:2022,alphanumeric:1226,binary:842,kanji:518}},33:{L:{numeric:4965,alphanumeric:3009,binary:2068,kanji:1273},M:{numeric:3909,alphanumeric:2369,binary:1628,kanji:1002},Q:{numeric:2805,alphanumeric:1700,binary:1168,kanji:719},H:{numeric:2157,alphanumeric:1307,binary:898,kanji:553}},34:{L:{numeric:5253,alphanumeric:3183,binary:2188,kanji:1347},M:{numeric:4134,alphanumeric:2506,binary:1722,kanji:1060},Q:{numeric:2949,alphanumeric:1787,binary:1228,kanji:756},H:{numeric:2301,alphanumeric:1394,binary:958,kanji:590}},35:{L:{numeric:5529,alphanumeric:3351,binary:2303,kanji:1417},M:{numeric:4343,alphanumeric:2632,binary:1809,kanji:1113},Q:{numeric:3081,alphanumeric:1867,binary:1283,kanji:790},H:{numeric:2361,alphanumeric:1431,binary:983,kanji:605}},36:{L:{numeric:5836,alphanumeric:3537,binary:2431,kanji:1496},M:{numeric:4588,alphanumeric:2780,binary:1911,kanji:1176},Q:{numeric:3244,alphanumeric:1966,binary:1351,kanji:832},H:{numeric:2524,alphanumeric:1530,binary:1051,kanji:647}},37:{L:{numeric:6153,alphanumeric:3729,binary:2563,kanji:1577},M:{numeric:4775,alphanumeric:2894,binary:1989,kanji:1224},Q:{numeric:3417,alphanumeric:2071,binary:1423,kanji:876},H:{numeric:2625,alphanumeric:1591,binary:1093,kanji:673}},38:{L:{numeric:6479,alphanumeric:3927,binary:2699,kanji:1661},M:{numeric:5039,alphanumeric:3054,binary:2099,kanji:1292},Q:{numeric:3599,alphanumeric:2181,binary:1499,kanji:923},H:{numeric:2735,alphanumeric:1658,binary:1139,kanji:701}},39:{L:{numeric:6743,alphanumeric:4087,binary:2809,kanji:1729},M:{numeric:5313,alphanumeric:3220,binary:2213,kanji:1362},Q:{numeric:3791,alphanumeric:2298,binary:1579,kanji:972},H:{numeric:2927,alphanumeric:1774,binary:1219,kanji:750}},40:{L:{numeric:7089,alphanumeric:4296,binary:2953,kanji:1817},M:{numeric:5596,alphanumeric:3391,binary:2331,kanji:1435},Q:{numeric:3993,alphanumeric:2420,binary:1663,kanji:1024},H:{numeric:3057,alphanumeric:1852,binary:1273,kanji:784}}};var s=function(i){"use strict";this.config=new a,this.encoder=new o,this.version=i||null,this.version=parseInt(this.version),this.version=isNaN(this.version)?null:parseInt(this.version)};s.prototype.constructor=s,s.prototype.modes={numeric:function(i,t){"use strict";return null!==i.match(/^\d+$/)},alphanumeric:function(i,t){"use strict";for(var n=i.split("").sort().filter(function(i,t,n){return t===n.indexOf(i)&&i.length>0});n.length>0;)if(void 0===t.encoder.alphanumericCharsTable[n.shift()])return!1;return!0},kanji:function(i,t){"use strict";return!1}},s.prototype.analyze=function(i,t){"use strict";var n=r(i=i||"").length,e=["H","Q","M","L"];if(0===n)throw new f;t=t||e;var a={data:i,capacity:0,datalen:n,mode:"binary",eclevel:null,version:2};for(var s in this.modes)if(this.modes.hasOwnProperty(s)&&this.modes[s](i,this)){a.mode=s;break}for(var o=!0,u=0;u<t.length;u+=1){var c=this.config.getCapacityRange(a.mode,t[u]);if(n>=c.min&&n<=c.max){o=!1;break}}if(!0===o)throw new y;for(var h in this.config.characterCapacities)if(this.config.characterCapacities.hasOwnProperty(h)){if(null!==this.version&&parseInt(h)!==this.version)continue;for(var l=0;l<t.length;l+=1){var p=t[l],m=this.config.characterCapacities[h][p][a.mode];if(n<=m){a.capacity=m,a.eclevel=p,a.version=parseInt(h);break}}if(a.capacity>0)break}return a};var o=function(){"use strict";this.config=new a,this.ec=new u};o.prototype.constructor=o,o.prototype.encodeNumeric=function(i){"use strict";for(var t=10,n=i.split(""),r=null,e=[],a=0;a<n.length;a+=3){var s=n.slice(a,a+3).join("");t=3*s.length+1;for(var o=(r=parseInt(s)).toString(2);o.length<t;)o="0"+o;e.push(o)}return e},o.prototype.encodeAlphanumeric=function(i){"use strict";for(var t=11,n=null,r=[],e=i.split("").map(function(i){return this.alphanumericCharsTable[i]},this),a=0;a<e.length;a+=2){a+1<e.length?n=45*e[a]+e[a+1]:(n=e[a],t=Math.ceil(t/2));for(var s=n.toString(2);s.length<t;)s="0"+s;r.push(s)}return r},o.prototype.encodeBinary=function(i){"use strict";for(var t,n=r(i),e=[],a=0;a<n.length;a+=1){for(t=n[a].toString(2);t.length<8;)t="0"+t;e.push(t)}return e},o.prototype.encodeData=function(i,t,n,a){"use strict";var s=["11101100","00010001"],o=[];if("numeric"===t)o=o.concat(this.encodeNumeric(i));else if("alphanumeric"===t)o=o.concat(this.encodeAlphanumeric(i));else{if("binary"!==t)throw new l(t);o=o.concat(this.encodeBinary(i))}var u=this.config.dataModeBitStrings[t],c=this.config.getCharacterCountIndicator(r(i).length,t,n);o.unshift(c),o.unshift(u);var h=o.join("");h+=this.terminator(h.length,n,a);for(var p=[],m=0;;){var f=h.substring(m,m+8);if(""===f)break;p.push(f),m+=8}for(;p[p.length-1].length<8;)p[p.length-1]+="0";for(var y=this.config.getBlockInfo(n,a)[0],M=0;p.length<y;)p.push(s[M%s.length]),M+=1;return e(p,2)},o.prototype.encode=function(i,t,n,r){"use strict";var e,a,s=[],o=this.encodeData(i,t,n,r).map(function(i){for(var t=i.toString(2);t.length<8;)t="0"+t;return t}),u={1:[],2:[]},c=[],h=[],l=[],p={},m={},f=this.config.getBlockInfo(n,r);p[1]=f[2],m[1]=f[3],p[2]=f[4],m[2]=f[5];var y,M,g,k,b,A=Math.max(m[1],m[2]);for(b in p)if(p.hasOwnProperty(b))for(y=0;y<p[b];y+=1){for(c=[],g=0;g<m[b];g+=1)c.push(parseInt(o.shift(),2));for(a=this.ec.getCode(c,n,r),l.push(a);c.length<A;)c.push(null);u[b][y]=c,h.push(c)}var j=[],d=[];for(k=0;k<A;k+=1)for(M=0;M<h.length;M+=1)null!==h[M][k]&&j.push(h[M][k]);for(k=0;k<l[0].length;k+=1)for(M=0;M<l.length;M+=1)d.push(l[M][k]);for(j=j.concat(d);j.length>0;){for(e=j.shift().toString(2);e.length<8;)e="0"+e;s.push(e)}var T=s.join("");return T+=this.remainder(n)},o.prototype.terminator=function(i,t,n){"use strict";var r="0000",e=8*this.config.getBlockInfo(t,n)[0]-i;if(e<4){r="";for(var a=0;a<e;a+=1)r+="0"}return r},o.prototype.remainder=function(i){"use strict";for(var t=this.config.remainderBits[i],n="";t>0;)n+="0",t-=1;return n},o.prototype.alphanumericCharsTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44};var u=function(){"use strict";this.config=new a,this.gen=new M};u.prototype.constructor=u,u.prototype.getCode=function(i,t,n){"use strict";var r=parseInt(this.config.dataSizeInfo[t+"-"+n][1]),e=this.gen.polynominal(r),a=[];a=a.concat(i);for(var s=0;s<i.length;s+=1){for(var o=this.gen.int2exp(a[0])%255,u=0;u<e.length;u+=1){var c=(e[u]+o)%255;c=this.gen.exp2int(c),a[u]=a[u]^c}a.shift()}return a};var c=function(i){"use strict";this.matrix=i};c.prototype.constructor=c,c.prototype.evaluatePattern=function(i){"use strict";var t={total:0,1:0,2:0,3:0,4:0};for(var n in this.rules)if(this.rules.hasOwnProperty(n)){var r=parseInt(n),e=this.rules[r](i);t[r]=e.total,t.total+=t[r]}return t},c.prototype.rules={1:function(i){"use strict";var t,n,r,e,a,s,o={horizontal:0,vertical:0,total:0};for(t=0;t<i.length;t+=1){if(a=0,s=i[t].join(""),null!==(e=s.match(/(0{5,}|1{5,})/g)))for(r=0;r<e.length;r+=1)a+=3+e[r].length-5;o.horizontal+=a}for(n=0;n<i.length;n+=1){for(a=0,s="",t=0;t<i[0].length;t+=1)s+=i[t][n];if(null!==(e=s.match(/(0{5,}|1{5,})/g)))for(r=0;r<e.length;r+=1)a+=3+e[r].length-5;o.vertical+=a}return o.total=o.horizontal+o.vertical,o},2:function(i){"use strict";var t,n,r={found:0,total:0};for(t=0;t<i.length-1;t+=1)for(n=0;n<i[0].length-1;n+=1)i[t][n]===i[t][n+1]&&i[t][n]===i[t+1][n]&&i[t][n]===i[t+1][n+1]&&(r.found+=1);return r.total=3*r.found,r},3:function(i){"use strict";var t,n,r,e={cols:0,rows:0,total:0},a=[[1,0,1,1,1,0,1,0,0,0,0],[0,0,0,0,1,0,1,1,1,0,1]],s=!0;for(t=0;t<i.length;t+=1)for(n=0;n<i[0].length-a[0].length+1;n+=1){for(s=[!0,!0],r=0;r<a[0].length;r+=1)i[t][n+r]!==a[0][r]&&(s[0]=!1),i[t][n+r]!==a[1][r]&&(s[1]=!1);!0===s[0]&&(e.rows+=1),!0===s[1]&&(e.rows+=1)}for(n=0;n<i[0].length;n+=1)for(t=0;t<i.length-a[0].length+1;t+=1){for(s=[!0,!0],r=0;r<a[0].length;r+=1)i[t+r][n]!==a[0][r]&&(s[0]=!1),i[t+r][n]!==a[1][r]&&(s[1]=!1);!0===s[0]&&(e.cols+=1),!0===s[1]&&(e.cols+=1)}return e.total=40*(e.rows+e.cols),e},4:function(i){"use strict";var t,n,r={dark:0,all:0,total:0};for(t=0;t<i.length;t+=1)for(n=0;n<i[0].length;n+=1)r.dark+=1===i[t][n]?1:0,r.all+=1;for(var e=r.dark/r.all*100,a={upper:0,lower:0};a.upper<e;)a.upper+=5;a.lower=a.upper-5;var s=Math.abs(a.lower-50),o=Math.abs(a.upper-50);return r.total=10*Math.min(s,o),r}};var h=function(i){"use strict";i=i||"Value is out of range.",this.message=i};h.prototype.constructor=h,h.prototype.toString=function(){"use strict";return this.message};var l=function(i){"use strict";this.message="Mode "+i+" is not supported."};l.prototype.constructor=l,l.prototype.toString=function(){"use strict";return this.message};var p=function(i){"use strict";i=i||"Invalid Error Correction Level, only L, M, Q or H is supported.",this.message=i};p.prototype.constructor=p,p.prototype.toString=function(){"use strict";return this.message};var m=function(i){"use strict";i=i||"Invalid Version number.",this.message=i};m.prototype.constructor=m,m.prototype.toString=function(){"use strict";return this.message};var f=function(i){"use strict";i=i||"Data should contain at least one character.",this.message=i};f.prototype.constructor=f,f.prototype.toString=function(){"use strict";return this.message};var y=function(i){"use strict";i=i||"Data size is out of supported range.",this.message=i};y.prototype.constructor=y,y.prototype.toString=function(){"use strict";return this.message};var M=function(){"use strict";this.log=[],this.antilog=[],this.symbol=",",this.createLogAndAntilog()};M.prototype.constructor=M,M.prototype.createLogAndAntilog=function(){"use strict";for(var i=0;i<256;i+=1){for(var t=1,n=i;n>0;)t=(t<<=1)>255?285^t:t,n-=1;this.log[i]=t,this.antilog[t]=i}},M.prototype.exp2int=function(i){"use strict";return this.log[i]},M.prototype.int2exp=function(i){"use strict";return this.antilog[i]},M.prototype.multiply=function(i,t){"use strict";for(var n,r,a,s,o={},u=[],c=0;c<t.length;c+=1)for(var h=0;h<i.length;h+=1){a=i[h],s=t[c];var l=e(a.split(this.symbol)),p=e(s.split(this.symbol));a=l[0]+p[0],s=l[1]+p[1],a%=255,s%=255,void 0===o[s=this.symbol+s]&&(o[s]=[]),o[s].push(a)}for(var m in o)if(o.hasOwnProperty(m)){if(n=0,r=parseInt(m.toString().replace(/\D/,"")),a=parseInt(o[m][0]),o[m].length>1){s=parseInt(o[m][1]);var f=(a=this.exp2int(a))^(s=this.exp2int(s));n=this.int2exp(f)}else n=a;n%=255,u.push(n+this.symbol+r)}return u},M.prototype.polynominal=function(i){"use strict";var t=[],n=1,r=["0"+this.symbol+"1","0"+this.symbol+"0"];do{var e=["0"+this.symbol+"1",n+this.symbol+"0"];r=this.multiply(r,e),n+=1}while(n<i);for(;r.length>0;){var a=r.shift().split(this.symbol).shift();t.push(parseInt(a))}return t};var g=function(i){"use strict";this.matrix=i,this.config=new a};g.prototype.constructor=g,g.prototype.apply=function(i,t){"use strict";t=t||!1;var n,r,e,a={evaluation:{},data:[]},s=this.patterns[i];if(!0===t)for(r=0;r<this.matrix.data.length;r+=1)for(e=0;e<this.matrix.data[r].length;e+=1)this.matrix.mask[r][e]=this.matrix.MASK_DATA,this.matrix.data[r][e]=0;for(r=0;r<this.matrix.getSize();r+=1)for(a.data[r]=[],e=0;e<this.matrix.getSize();e+=1)a.data[r][e]=this.matrix.data[r][e],this.matrix.mask[r][e]===this.matrix.MASK_DATA&&(n=a.data[r][e],a.data[r][e]=s(r,e)?1^n:n);if(!1===t){var o=this.config.getFormatString(this.matrix.eclevel,i),u=this.config.getVersionInformationString(this.matrix.version);this.matrix.setFormatInformationArea(o,a.data),this.matrix.setVersionInformationArea(u,a.data)}var h=new c(this.matrix);return a.evaluation=h.evaluatePattern(a.data),a},g.prototype.patterns={0:function(i,t){"use strict";return(i+t)%2==0},1:function(i,t){"use strict";return i%2==0},2:function(i,t){"use strict";return t%3==0},3:function(i,t){"use strict";return(i+t)%3==0},4:function(i,t){"use strict";return(Math.floor(i/2)+Math.floor(t/3))%2==0},5:function(i,t){"use strict";return i*t%2+i*t%3==0},6:function(i,t){"use strict";return(i*t%2+i*t%3)%2==0},7:function(i,t){"use strict";return((i+t)%2+i*t%3)%2==0}};var k=function(i,t){"use strict";if(this.config=new a,void 0===i||isNaN(parseInt(i)))throw new m;this.DATA_UNDEFINED_MODULE=7,this.DATA_LIGHT_MODULE=0,this.DATA_DARK_MODULE=1,this.MASK_UNDEFINED_MODULE=15,this.MASK_POSITION_DETECTION_PATTERN=101,this.MASK_SEPARATOR=102,this.MASK_TOP_TIMER=103,this.MASK_LEFT_TIMER=104,this.MASK_ALIGNMENT_PATTERN=105,this.MASK_FIXED_DARK_MODULE=106,this.MASK_FORMAT_INFORMATION=201,this.MASK_VERSION_INFORMATION_NE=202,this.MASK_VERSION_INFORMATION_SW=222,this.MASK_DATA=255,this.version=parseInt(i),this.eclevel=t,this.size=4*(this.version-1)+21,this.data=this.allocate(this.size,this.DATA_UNDEFINED_MODULE),this.mask=this.allocate(this.size,this.MASK_UNDEFINED_MODULE)};k.prototype.constructor=k,k.prototype.setStaticAreas=function(){"use strict";this.setPositionDetectionPatterns(),this.setSeparators(),this.setTimingPatterns(),this.setFixedDarkModule(),this.setAlignmentPatterns()},k.prototype.setFixedDarkModule=function(){"use strict";var i=4*this.version+9;this.setDarkModule(8,i,this.MASK_FIXED_DARK_MODULE)},k.prototype.setPositionDetectionPatterns=function(){"use strict";this.setPositionDetectionPattern(0,0),this.setPositionDetectionPattern(this.getSize()-7,0),this.setPositionDetectionPattern(0,this.getSize()-7)},k.prototype.setSeparators=function(){"use strict";var i,t=this.getSize()-7,n=0,r=7;for(i=7;i>0;)i-=1,this.setLightModule(0+r,0+n+i,this.MASK_SEPARATOR),this.setLightModule(0+n+i,0+r,this.MASK_SEPARATOR);for(r=n=r,this.setLightModule(0+n,0+r,this.MASK_SEPARATOR),i=7;i>0;)i-=1,n=t,r=7,this.setLightModule(0+n+i,0+r,this.MASK_SEPARATOR),n=t-1,r=0,this.setLightModule(0+n,0+r+i,this.MASK_SEPARATOR);for(n=t-1,r=7,this.setLightModule(0+n,0+r,this.MASK_SEPARATOR),i=7;i>0;)i-=1,n=7,r=t,this.setLightModule(0+n,0+r+i,this.MASK_SEPARATOR),n=0,r=t-1,this.setLightModule(0+n+i,0+r,this.MASK_SEPARATOR);n=t-1,r=7,this.setLightModule(0+r,0+n,this.MASK_SEPARATOR)},k.prototype.setTimingPatterns=function(){"use strict";for(var i=this.getSize()-7,t=8;t<i-1;t+=1)t%2==0?(this.setDarkModule(t,6,this.MASK_TOP_TIMER),this.setDarkModule(6,t,this.MASK_LEFT_TIMER)):(this.setLightModule(t,6,this.MASK_TOP_TIMER),this.setLightModule(6,t,this.MASK_LEFT_TIMER))},k.prototype.setAlignmentPatterns=function(){"use strict";for(var i=this.config.alignmentPatternLocations[this.version],t=0;t<i.length;t+=1)for(var n=0;n<i.length;n+=1)0===t&&0===n||0===t&&n===i.length-1||t===i.length-1&&0===n||this.setAlignmentPattern(i[t],i[n])},k.prototype.setReservedAreas=function(){"use strict";this.setFormatInformationArea(),this.setVersionInformationArea()},k.prototype.setDataArea=function(i){"use strict";for(var t,n=-1,r=this.getSize()-1,a=this.getSize()-1,s=a,o=e(i.split(""));o.length>0;)a>=0&&a<this.getSize()||(r-=2,a=s,n=-1===n?1:-1,6===r&&(r-=1)),this.isModuleUndefined(r,a)&&(t=o.shift(),this.setModule(r,a,t,this.MASK_DATA)),r-=1,this.isModuleUndefined(r,a)&&(t=o.shift(),this.setModule(r,a,t,this.MASK_DATA)),r+=1,s=a,a+=n},k.prototype.setFormatInformationArea=function(i,t){"use strict";i=i||"000000000000000",t=t||this.data;for(var n,r,e=i.split("").map(function(i){return parseInt(i)}),a=[[],[]],s=0;e.length>0;)s=e.shift(),a[0].push(s),a[1].push(s);for(n=8,r=0;r<8;r+=1)6!==r&&(1===a[0].pop()?this.setDarkModule(n,r,this.MASK_FORMAT_INFORMATION,t):this.setLightModule(n,r,this.MASK_FORMAT_INFORMATION,t));for(n=8,r=8;n>=0;n-=1)6!==n&&(1===a[0].pop()?this.setDarkModule(n,r,this.MASK_FORMAT_INFORMATION,t):this.setLightModule(n,r,this.MASK_FORMAT_INFORMATION,t));for(n=this.size-1,r=8;n>=this.size-8;n-=1)1===a[1].pop()?this.setDarkModule(n,r,this.MASK_FORMAT_INFORMATION,t):this.setLightModule(n,r,this.MASK_FORMAT_INFORMATION,t);for(n=8,r=4*this.version+9+1;r<this.size;r+=1)1===a[1].pop()?this.setDarkModule(n,r,this.MASK_FORMAT_INFORMATION,t):this.setLightModule(n,r,this.MASK_FORMAT_INFORMATION,t)},k.prototype.setVersionInformationArea=function(i,t){"use strict";if(this.version<7)return!1;i=i||"000000000000000000",t=t||this.data;for(var n,r,e,a,s=i.split("").map(function(i){return parseInt(i)}),o=[[],[]];s.length>0;)n=s.shift(),o[0].push(n),o[1].push(n);for(e=0,r=this.size-11;e<6;e+=1)for(a=0;a<3;a+=1)1===o[0].pop()?this.setDarkModule(r+a,e,this.MASK_VERSION_INFORMATION_NE,t):this.setLightModule(r+a,e,this.MASK_VERSION_INFORMATION_NE,t);for(e=this.size-11,r=0;r<6;r+=1)for(a=0;a<3;a+=1)1===o[1].pop()?this.setDarkModule(r,e+a,this.MASK_VERSION_INFORMATION_SW,t):this.setLightModule(r,e+a,this.MASK_VERSION_INFORMATION_SW,t);return!0},k.prototype.allocate=function(i,t){"use strict";var n,r,e=[];for(n=0;n<i;n+=1){var a=[];for(r=0;r<i;r+=1)a[r]=t;e.push(a)}return e},k.prototype.getSize=function(){"use strict";return this.size},k.prototype.getData=function(){"use strict";return this.data},k.prototype.getMask=function(){"use strict";return this.mask},k.prototype.setAlignmentPattern=function(i,t){"use strict";var n,r,e,a;for(this.setDarkModule(i,t,this.MASK_ALIGNMENT_PATTERN),n=i-(a=1);n<=i+a;n+=1)r=t-a,this.setLightModule(n,r,this.MASK_ALIGNMENT_PATTERN),r=t+a,this.setLightModule(n,r,this.MASK_ALIGNMENT_PATTERN);for(e=t-a;e<=t+a;e+=1)r=e,n=i-a,this.setLightModule(n,r,this.MASK_ALIGNMENT_PATTERN),n=i+a,this.setLightModule(n,r,this.MASK_ALIGNMENT_PATTERN);for(e=i-(a=2);e<=i+a;e+=1)n=e,r=t-a,this.setDarkModule(n,r,this.MASK_ALIGNMENT_PATTERN),r=t+a,this.setDarkModule(n,r,this.MASK_ALIGNMENT_PATTERN);for(e=t-a;e<=t+a;e+=1)r=e,n=i-a,this.setDarkModule(n,r,this.MASK_ALIGNMENT_PATTERN),n=i+a,this.setDarkModule(n,r,this.MASK_ALIGNMENT_PATTERN)},k.prototype.setPositionDetectionPattern=function(i,t){"use strict";var n,r;for(n=0;n<7;n+=1)r=0,this.setDarkModule(t+n,i+r,this.MASK_POSITION_DETECTION_PATTERN),r=6,this.setDarkModule(t+n,i+r,this.MASK_POSITION_DETECTION_PATTERN);for(n=1;n<6;n+=1)r=1,this.setLightModule(t+n,i+r,this.MASK_POSITION_DETECTION_PATTERN),r=5,this.setLightModule(t+n,i+r,this.MASK_POSITION_DETECTION_PATTERN);for(r=1;r<6;r+=1)n=0,this.setDarkModule(t+n,i+r,this.MASK_POSITION_DETECTION_PATTERN),n=6,this.setDarkModule(t+n,i+r,this.MASK_POSITION_DETECTION_PATTERN);for(r=1;r<6;r+=1)n=1,this.setLightModule(t+n,i+r,this.MASK_POSITION_DETECTION_PATTERN),n=5,this.setLightModule(t+n,i+r,this.MASK_POSITION_DETECTION_PATTERN);for(n=2;n<5;n+=1)for(r=2;r<5;r+=1)this.setDarkModule(t+n,i+r,this.MASK_POSITION_DETECTION_PATTERN)},k.prototype.isModuleUndefined=function(i,t,n){"use strict";return(n=n||this.data)[t][i]===this.DATA_UNDEFINED_MODULE},k.prototype.setModule=function(i,t,n,r,e){"use strict";(e=e||this.data)[t][i]=n,this.mask[t][i]=r},k.prototype.setDarkModule=function(i,t,n,r){"use strict";r=r||this.data,this.setModule(i,t,this.DATA_DARK_MODULE,n,r)},k.prototype.setLightModule=function(i,t,n,r){"use strict";r=r||this.data,this.setModule(i,t,this.DATA_LIGHT_MODULE,n,r)};var b=function(i,t,n,r,e,a){"use strict";if(i=i||"",t=t||["M"],r=r||null,e=e||!1,a=a||!1,"[object Array]"!==this.toString.call(t))throw new p;if(t.forEach(function(i){if(null===i.match(/^[LMQH]$/i))throw new p}),n="number"!=typeof parseInt(n)?null:parseInt(n),isNaN(n)&&(n=null),null!==n&&!(n>=0&&n<8))throw new h("Mask pattern value is out of 0..7 range.");if(null!==r&&"number"!=typeof parseInt(r))throw new m;this.info={};var u,c,l,f,y={},M=0;if(u=new s(r),this.info=u.analyze(i,t),c=new o,f=c.encode(i,this.info.mode,this.info.version,this.info.eclevel),this.matrix=new k(this.info.version,this.info.eclevel),this.matrix.setStaticAreas(),this.matrix.setReservedAreas(),this.matrix.setDataArea(f),!0!==e){if(l=new g(this.matrix),null===n){var b=[],A={};for(M=0;M<8;M+=1)y=l.apply(M),b.push(y.evaluation.total),A[b[M]]=M;M=A[(b=b.sort())[0]]}else M=parseInt(n),M=isNaN(M)?0:M;this.info.pattern=M,y=l.apply(M,a),this.matrix.data=y.data}};b.prototype.getInfo=function(){"use strict";return this.info},b.prototype.getData=function(){"use strict";return this.matrix.getData()},b.prototype.getSize=function(){"use strict";return this.matrix.getSize()},n.exports=b});