define(["require","exports","application","json!lib/system/modules/gui.theme.json"],function(n,e,i,o){var r=i.uefi;i.$$config(o.depends);var t=o.themes[i.theme],a=[].concat(t.modules),s=["ngSanitize","ngMessages"].concat(t.depends);if(t.flex&&!(Modernizr.flexbox||Modernizr.flexboxlegacy||Modernizr.flexboxtweener))return alert("Your browser was not supported right now!");var u=angular.module("gui.theme",s);angular.extend(e,{name:u.name,module:function(e){n(a,function(){e(u)})}}),s.includes("ngTouch")&&u.config(["$touchProvider",function(e){e.ngClickOverrideEnabled(!!r.native.mobile)}]),delete i.theme,u.run(["$rootScope","$timeout","$window","securityService",function(e,n,a,i){r.progress("Application","setup gui.theme");var o=r.native;if(o.desktop){var s=o.desktop.gui,u=s.App.manifest.window;s.Screen.Init(),e.$on(i.ENFORCED,function(){t(0,0)}),e.$on(i.UNSECURED,function(){t(u.width,u.height)})}function t(e,n){var i=u.screen||0,o=s.Screen.screens[i].work_area;if(0<e&&0<n){e=Math.min(e,o.width),n=Math.min(n,o.height);var t=(o.width-e)/2,r=(o.height-n)/2;a.moveTo(t,r),a.resizeTo(e,n)}else a.moveTo(0,0),a.resizeTo(o.width,o.height)}}])});