define(["require","exports","application","json!lib/system/etc/theme.json"],function(e,n,i,o){var t=i.uefi;i.$$config(o.depends);var r=o.themes[i.theme],a=[].concat(r.modules),c=["ngSanitize","ngMessages"].concat(r.depends);if(r.flex&&!(Modernizr.flexbox||Modernizr.flexboxlegacy||Modernizr.flexboxtweener))return alert("Your browser was not supported right now!");var s=angular.module("gui.theme",c);angular.extend(n,{name:s.name,module:function(n){e(a,function(){n(s)})}}),c.includes("ngTouch")&&s.config(["$touchProvider",function(e){e.ngClickOverrideEnabled(!!t.native.mobile)}]),delete i.theme,s.run(["$rootScope","$timeout","$window","securityService",function(e,n,i,o){function r(e,n){var o=s.screen||0,t=c.Screen.screens[o].work_area;if(e>0&&n>0){e=Math.min(e,t.width),n=Math.min(n,t.height);var r=(t.width-e)/2,a=(t.height-n)/2;i.moveTo(r,a),i.resizeTo(e,n)}else i.moveTo(0,0),i.resizeTo(t.width,t.height)}t.progress("Application","setup gui.theme");var a=t.native;if(a.desktop){var c=a.desktop.gui,s=c.App.manifest.window;c.Screen.Init(),e.$on(o.ENFORCED,function(){r(0,0)}),e.$on(o.UNSECURED,function(){r(s.width,s.height)})}}])});