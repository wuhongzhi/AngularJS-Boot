define(["require","exports","application"],function(a,e,o){var t=e.module=angular.module("system.dynamic",["system.http","gui.language"]),n=o.uefi,r=Array.prototype.slice;t.config(function(){n.progress("Application","setup system.dynamics")}).run(["$rootScope","$location","$route","$injector",function(e,o,t,s){var i=e.$broadcast;e.$on("$locationChangeStart",function(p){var u=t.routes[o.path()];if(u&&!u.ready&&!u.inProgress&&!p.defaultPrevented){u.inProgress=!0,p.preventDefault();var l=r.apply(arguments);n.progress("Application","load dynamic module > "+u.extras.path);var c=u.language[e.language.getLocale()];a([u.script,c],function(a,t){n.progress("Application","setup module > "+u.extras.path),s.loadNewModules([a.module.name]),e.language.loadLanguage([[c,t]]),l[0]="$locationChangeSuccess",u.ready=!0,u.inProgress=!1,o.path(u.extras.path),i.apply(e,l)})}})}])});