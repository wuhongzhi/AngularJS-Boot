define(["require","exports","application","cache"],function(e,t,n,o){var r=t.module=angular.module("system.cache",["ng"]),s=n.uefi,c="/test"!==n.$$cacheUrl("/test");r.config(["$provide",function(t){s.progress("Application","setup system.cache"),c&&t.decorator("$templateRequest",["$delegate","$templateCache","$sce","$q","$timeout",function(t,n,r,s,c){return function(u,i){var a=s.defer(),l=n.get(u);return l?c(function(){a.resolve(l)}):(t.totalPendingRequests++,e([o.$$prefix+r.getTrustedResourceUrl(u)],function(e){t.totalPendingRequests--,n.put(u,e),a.resolve(e)},function(e){t.totalPendingRequests--,i?a.resolve(""):a.reject(e)})),a.promise}}])}])});