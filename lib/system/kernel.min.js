define(["environment","version","json!lib/system/kernel.json"],function(r,c,t){"use strict";t=t.depends;var e=r.uefi,i=Array.prototype.slice,n=Object.keys(t.shim);["baseUrl","shim","waitSeconds"].forEach(function(n){void 0===t[n]?t[n]=r[n]:Object.keys(r[n]).forEach(function(e){t[n][e]=r[n][e]}),delete r[n]}),requirejs.config(t),requirejs(["cache"].concat(n),function(o){var n=Modernizr.localstorage&&e.prodMode&&function(){var e=localStorage.getItem("system.version"),n=c.version||"1.0.0";if(e&&e!==n){o.$$clean();try{localStorage.setItem("system.version",n)}catch(e){}}else try{e||localStorage.setItem("system.version",n)}catch(e){}if(void 0!==c.cache&&!c.cache)return!1;var r=angular.element(document),t=r.find("head"),i=r.data();return angular.extend(o,{$$prefix:"cache!",$$apply:function(e){var n=i.$scope||i.$injector&&i.$injector.get("$rootScope");n&&n.$applyAsync(e)},$$style:function(e){t.append("<style>"+e+"</style>")}}),o.$$init(),!0}();define("application",{uefi:r.uefi,$$config:function(){i.apply(arguments).forEach(function(e){angular.merge(t,e)}),requirejs.config(t)},$$baseUrl:function(){return t.baseUrl},$$cacheUrl:function(e){return n&&e&&-1===e.lastIndexOf(o.$$prefix)?o.$$prefix+e:e}}),requirejs.undef("environment"),e.progress("Init","loading"),requirejs(["lib/system/init"],function(){e.progress("Init","ready")})})});