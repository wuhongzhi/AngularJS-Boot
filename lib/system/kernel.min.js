define(["environment","version","cache","require"],function(e,n,r,i){var t=e.uefi,o=Array.prototype.slice,c="system.version",a=Modernizr.localstorage&&t.prodMode&&function(){var e=localStorage.getItem(c),i=n.version||"1.0.0";if(e&&e!==i){r.$$clean();try{localStorage.setItem(c,i)}catch(e){}}else try{e||localStorage.setItem(c,i)}catch(e){}return!(void 0!==n.cache&&!n.cache)&&(r.$$prefix="cache!",r.$$init(),!0)}();i(["json!lib/system/etc/kernel.json"],function(n){n=n.depends;var c=Object.keys(n.shim);["baseUrl","shim","waitSeconds"].forEach(function(r){void 0===n[r]?n[r]=e[r]:Object.keys(e[r]).forEach(function(i){n[r][i]=e[r][i]}),delete e[r]}),requirejs.config(n),i(c,function(){define("application",{uefi:e.uefi,$$config:function(){o.apply(arguments).forEach(function(e){angular.merge(n,e)}),requirejs.config(n)},$$baseUrl:function(){return n.baseUrl},$$cacheUrl:function(e){if(!a||!e)return e;return-1===e.lastIndexOf(r.$$prefix)?r.$$prefix+e:e}}),requirejs.undef("angular"),define("angular",angular),requirejs.undef("environment"),t.progress("Init","loading"),i(["lib/system/init"],function(){t.progress("Init","ready")})})})});