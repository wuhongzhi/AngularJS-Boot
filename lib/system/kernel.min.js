define(["environment","version","cache","require"],function(i,r,t,n){var o=i.uefi,c=Array.prototype.slice,a="system.version",s=Modernizr.localstorage&&o.prodMode&&function(){var e=localStorage.getItem(a),n=r.version||"1.0.0";if(e&&e!==n){t.$$clean();try{localStorage.setItem(a,n)}catch(e){}}else try{e||localStorage.setItem(a,n)}catch(e){}return!(void 0!==r.cache&&!r.cache)&&(t.$$prefix="cache!",t.$$init(),!0)}();n(["json!lib/system/etc/kernel.json"],function(r){r=r.depends;var e=Object.keys(r.shim);["baseUrl","shim","waitSeconds"].forEach(function(n){void 0===r[n]?r[n]=i[n]:Object.keys(i[n]).forEach(function(e){r[n][e]=i[n][e]}),delete i[n]}),requirejs.config(r),n(e,function(){define("application",{uefi:i.uefi,$$config:function(){c.apply(arguments).forEach(function(e){angular.merge(r,e)}),requirejs.config(r)},$$baseUrl:function(){return r.baseUrl},$$cacheUrl:function(e){return s&&e&&-1===e.lastIndexOf(t.$$prefix)?t.$$prefix+e:e}}),requirejs.undef("environment"),o.progress("Init","loading"),n(["lib/system/init"],function(){o.progress("Init","ready")})})})});