define(["environment","version","json!lib/system/etc/kernel.json"],function(r,a,o){"use strict";o=o.depends;var t=r.uefi,s=Array.prototype.slice,e=Object.keys(o.shim);["baseUrl","shim","waitSeconds"].forEach(function(n){void 0===o[n]?o[n]=r[n]:Object.keys(r[n]).forEach(function(e){o[n][e]=r[n][e]}),delete r[n]}),requirejs.config(o),requirejs(["cache"].concat(e),function(i){var e,c,n=Modernizr.localstorage&&t.prodMode&&function(){var e=localStorage.getItem("system.version"),n=a.version||"1.0.0";if(e&&e!==n){i.$$clean();try{localStorage.setItem("system.version",n)}catch(e){}}else try{e||localStorage.setItem("system.version",n)}catch(e){}if(void 0!==a.cache&&!a.cache)return!1;var r=angular.element(document),o=r.find("head"),t=r.data();return angular.extend(i,{$$prefix:"cache!",$$apply:function(e){var n=t.$scope||t.$injector&&t.$injector.get("$rootScope");n&&n.$applyAsync(e)},$$style:function(e){o.append("<style>"+e+"</style>")}}),i.$$init(),!0}();define("application",{uefi:r.uefi,$$config:function(){s.apply(arguments).forEach(function(e){angular.merge(o,e)}),requirejs.config(o)},$$baseUrl:function(){return o.baseUrl},$$cacheUrl:function(e){return n&&e&&-1===e.lastIndexOf(i.$$prefix)?i.$$prefix+e:e}}),t.verifyMode&&(e=angular.module,c={},angular.module=function(){var i=arguments[0],a=e.apply(angular,arguments);return angular.forEach(a,function(o,t){if("function"==typeof o&&"info"!==t&&"config"!==t&&"run"!==t){if(o.$$hook)return;var r=a[t]=function(){var e=arguments[0],n=c[e]=c[e]||{},r=i+"::"+t+"::"+e;return n[e]?console.warn(i+"::"+i,"already defined in",n[e]):n[e]=r,o.apply(a,arguments),a}.bind(a);r.$$hook=!0,angular.forEach(r,function(e,n){"function"==typeof e&&(r[n]=e)})}}),a}.bind(angular)),requirejs.undef("environment"),t.progress("Init","loading"),requirejs(["lib/system/init"],function(){t.progress("Init","ready")})})});