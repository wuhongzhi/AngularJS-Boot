define(["require","exports","application"],function(e,n,t){var o=angular.module("application.layout",["ng","gui.language","system.security","system.cache"]),a=angular.element(document).find("body");angular.extend(n,{name:o.name,module:function(n){e([t.$$cacheUrl("style!css/application/layout.css")],function(){n(o)})}}),o.run(["$sce",function(e){var n=e.getTrustedResourceUrl(t.layout.templateUrl);a.removeClass("gui-progress"),a.html("<ng-include src=\"'TEMPLATE'\"></ng-include>".replace("TEMPLATE",n))}]).controller("AppLayoutController",["$scope","$location","$rootElement",function(e,n,o){e.title={name:t.name},e.view={index:t.index},e.$on("$localeChangeSuccess",function(){o.find("title").text(e.language.translate(t.name))});var a=n.search().session;e.uri=a?n.path():t.logon,e.$watch("uri",function(e,t){n.path()!=e&&t&&n.path(e)}),e.$on(e.security.ENFORCED,function(){e.uri=t.index}),e.$on(e.security.UNSECURED,function(){e.uri=t.logon}),o.on("contextmenu",function(e){t.uefi.prodMode&&e.preventDefault()})}])});