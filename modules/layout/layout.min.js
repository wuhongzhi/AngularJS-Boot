define(["require","exports","application"],function(n,e,i){var t=angular.module("application.layout",["ng","gui.language","system.security","system.cache"]);angular.extend(e,{name:t.name,module:function(e){n([i.$$cacheUrl("style!css/application/layout.css")],function(){e(t)})}}),t.config(["$mdThemingProvider",function(e){}]).run(["$sce","$rootElement",function(e,n){var t=e.getTrustedResourceUrl(i.layout.templateUrl);n.removeClass("gui-progress"),n.html("<ng-include src=\"'TEMPLATE'\"></ng-include>".replace("TEMPLATE",t))}]).controller("AppLayoutController",["$scope","$location","$rootElement",function(e,t,n){e.title={name:i.name},e.view={index:i.index},e.$on("$localeChangeSuccess",function(){n.find("title").text(e.language.translate(i.name))});var o=t.search().session;e.uri=o?t.path():i.logon,e.$watch("uri",function(e,n){t.path()!=e&&n&&t.path(e)}),e.$on(e.security.ENFORCED,function(){e.uri=i.index}),e.$on(e.security.UNSECURED,function(){e.uri=i.logon}),n.contextmenu(function(e){i.uefi.prodMode&&e.preventDefault()})}])});