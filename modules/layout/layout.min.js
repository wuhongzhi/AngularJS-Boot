define(["require","exports","application"],function(e,n,t){var o=angular.module("application.layout",["ng","gui.language","system.security","system.cache"]);angular.extend(n,{name:o.name,module:function(n){e([t.$$cacheUrl("style!modules/layout/layout.css")],function(){n(o)})}}),o.run(["$sce","$rootElement",function(e,n){var o=e.getTrustedResourceUrl(t.layout.templateUrl);n.removeClass("gui-progress"),n.html("<ng-include src=\"'TEMPLATE'\"></ng-include>".replace("TEMPLATE",o))}]).controller("AppLayoutController",["$scope","$location","$rootElement",function(e,n,o){var u=this;u.title={name:t.name},u.view={index:t.index},e.$on("$localeChangeSuccess",function(){o.find("title").text(e.language.translate(t.name))});var a=n.search().session;u.uri=a?n.path():t.logon,e.$watch(function(){return u.uri},function(e,t){n.path()!=e&&t&&n.path(e)}),e.$on(e.security.ENFORCED,function(){u.uri=t.index}),e.$on(e.security.UNSECURED,function(){u.uri=t.logon}),o.contextmenu(function(e){t.uefi.prodMode&&e.preventDefault()})}])});